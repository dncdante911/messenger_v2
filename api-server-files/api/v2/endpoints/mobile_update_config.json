{
  "latest_version": "2.11.0",
  "version_code": 13,
  "apk_url": "https://worldmates.club/sources-app/worldmates-latest.apk",
  "changelog": [
    "Node.js: –æ—Å–æ–±–∏—Å—Ç—ñ —á–∞—Ç–∏ —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—é—Ç—å —á–µ—Ä–µ–∑ Node.js REST API ‚Äî —à–≤–∏–¥—à–µ —ñ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—à–µ",
    "Node.js: get/send/edit/delete –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —á–µ—Ä–µ–∑ /api/node/chat/*",
    "Node.js: –ø–æ—à—É–∫, –ø—ñ–Ω, —Ä–µ–∞–∫—Ü—ñ—ó, –ø–µ—Ä–µ—Å–∏–ª–∞–Ω–Ω—è ‚Äî –±–µ–∑ PHP",
    "Node.js: —Å–ø–∏—Å–æ–∫ —á–∞—Ç—ñ–≤, –∞—Ä—Ö—ñ–≤, –∑–∞–≥–ª—É—à–µ–Ω–Ω—è, –∫–æ–ª—å–æ—Ä–∏ ‚Äî –±–µ–∑ PHP",
    "Node.js: —É–ª—é–±–ª–µ–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–∫—Ä—ñ–ø–ª–µ–Ω—ñ —á–µ—Ä–µ–∑ Node.js",
    "Android: NodeApi.kt + NodeRetrofitClient.kt ‚Äî –æ–∫—Ä–µ–º–∏–π –∫–ª—ñ—î–Ω—Ç –¥–ª—è Node.js",
    "Android: MessagesViewModelNode.kt + ChatsViewModelNode.kt ‚Äî –Ω–æ–≤—ñ ViewModel –±–µ–∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤",
    "–†–µ—Ñ–∞–∫—Ç–æ—Ä: —Ñ–∞–π–ª–∏ > 1500 —Ä—è–¥–∫—ñ–≤ –ù–ï —Ä–æ–∑—à–∏—Ä—é—é—Ç—å—Å—è ‚Äî –Ω–æ–≤–∏–π –∫–æ–¥ –≤ –æ–∫—Ä–µ–º–∏—Ö —Ñ–∞–π–ª–∞—Ö",
    "ü§ñ Bot API v1.0: –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–æ—Ç—ñ–≤ (–∞–Ω–∞–ª–æ–≥ Telegram Bot API)",
    "üè™ Bot Store: –∫–∞—Ç–∞–ª–æ–≥ –±–æ—Ç—ñ–≤ –∑ –ø–æ—à—É–∫–æ–º, –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏ —Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏",
    "üì° Webhooks: –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ–¥—ñ–π –±–æ—Ç–∞–º —á–µ—Ä–µ–∑ HTTPS callbacks –∑ –ø—ñ–¥–ø–∏—Å–æ–º HMAC-SHA256",
    "üó≥Ô∏è Polls: –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∫–≤—ñ–∑–∏ —á–µ—Ä–µ–∑ –±–æ—Ç—ñ–≤ –∑ –≤—ñ–∑—É–∞–ª—å–Ω–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏",
    "üì∞ RSS News Bot: –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –Ω–æ–≤–∏–Ω –∑ 10+ –¥–∂–µ—Ä–µ–ª–∞–º–∏ (BBC, Reuters, TechCrunch, Pravda.ua)"
  ],
  "is_mandatory": false,
  "published_at": "2026-02-20T12:00:00Z",
  "features": {
    "private_chats_node": {
      "enabled": true,
      "description": "–û—Å–æ–±–∏—Å—Ç—ñ —á–∞—Ç–∏ —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—é—Ç—å —á–µ—Ä–µ–∑ Node.js REST API –∑–∞–º—ñ—Å—Ç—å PHP polling",
      "node_base_url": "https://worldmates.club:449",
      "phase": 1,
      "endpoints": {
        "get_messages":        "/api/node/chat/get",
        "send_message":        "/api/node/chat/send",
        "loadmore":            "/api/node/chat/loadmore",
        "edit_message":        "/api/node/chat/edit",
        "search":              "/api/node/chat/search",
        "seen":                "/api/node/chat/seen",
        "typing":              "/api/node/chat/typing",
        "delete_message":      "/api/node/chat/delete",
        "react":               "/api/node/chat/react",
        "pin_message":         "/api/node/chat/pin",
        "pinned_messages":     "/api/node/chat/pinned",
        "forward":             "/api/node/chat/forward",
        "chats_list":          "/api/node/chat/chats",
        "delete_conversation": "/api/node/chat/delete-conversation",
        "archive":             "/api/node/chat/archive",
        "mute":                "/api/node/chat/mute",
        "pin_chat":            "/api/node/chat/pin-chat",
        "color":               "/api/node/chat/color",
        "read":                "/api/node/chat/read",
        "fav":                 "/api/node/chat/fav",
        "fav_list":            "/api/node/chat/fav-list"
      },
      "php_fallback": {
        "enabled": true,
        "note": "Media upload (send-message.php) and FCM push remain on PHP"
      },
      "android_classes": {
        "api_interface":      "NodeApi.kt",
        "retrofit_client":    "NodeRetrofitClient.kt",
        "messages_viewmodel": "MessagesViewModelNode.kt",
        "chats_viewmodel":    "ChatsViewModelNode.kt"
      },
      "next_phases": ["group_chats", "channels"]
    },
    "animated_stickers": {
      "enabled": true,
      "supported_formats": ["lottie", "tgs", "gif", "webp", "png"],
      "embedded_packs": 5,
      "embedded_stickers_count": 200,
      "packs": [
        { "id": -1, "name": "–ï–º–æ—Ü—ñ—ó", "sticker_count": 40 },
        { "id": -2, "name": "–¢–≤–∞—Ä–∏–Ω–∏", "sticker_count": 40 },
        { "id": -3, "name": "–°–≤—è—Ç–∫—É–≤–∞–Ω–Ω—è", "sticker_count": 40 },
        { "id": -4, "name": "–ñ–µ—Å—Ç–∏", "sticker_count": 40 },
        { "id": -5, "name": "–°–µ—Ä—Ü—è", "sticker_count": 40 }
      ],
      "cdn_integration": {
        "enabled": true,
        "base_url": "https://cdn.worldmates.club",
        "strapi_endpoint": "/api/gifs-packs?populate=*",
        "cache_duration_hours": 1
      },
      "tgs_decoder": {
        "enabled": true,
        "gzip_decompression": true
      },
      "lottie_version": "6.4.0"
    },
    "advanced_video_player": {
      "enabled": true,
      "supported_gestures": [
        "horizontal_swipe_seek",
        "vertical_left_brightness",
        "vertical_right_volume",
        "double_tap_seek"
      ],
      "playback_speeds": [0.5, 0.75, 1.0, 1.25, 1.5, 2.0],
      "pip_support": true,
      "min_android_version": 24
    },
    "advanced_music_player": {
      "enabled": true,
      "background_playback": true,
      "notification_controls": true,
      "lock_screen_controls": true,
      "media_session": true,
      "bluetooth_headset_support": true,
      "auto_pause_on_headphones_disconnect": true,
      "audio_focus_handling": true,
      "audio_content_type": "MUSIC",
      "playback_speeds": [0.5, 0.75, 1.0, 1.25, 1.5, 2.0],
      "aes_256_gcm_decryption": true,
      "seek_forward_seconds": 15,
      "seek_backward_seconds": 15
    },
    "audio_quality_options": {
      "enabled": true,
      "voice_recording_qualities": {
        "compressed": {"bitrate_kbps": 64, "sample_rate": 22050},
        "standard": {"bitrate_kbps": 128, "sample_rate": 44100},
        "high": {"bitrate_kbps": 256, "sample_rate": 48000}
      },
      "file_sending_options": ["original", "compressed"],
      "telegram_style_dialog": true
    },
    "photo_editor": {
      "enabled": true,
      "available_in_chat": true,
      "available_in_groups": true,
      "tools": ["crop", "rotate", "filters", "draw", "text", "stickers"],
      "filters": ["brightness", "contrast", "saturation"],
      "undo_redo": true,
      "async_image_loading": true
    },
    "photo_viewer": {
      "enabled": true,
      "fullscreen": true,
      "zoom_range": "1x-5x",
      "pinch_to_zoom": true,
      "double_tap_zoom": true,
      "swipe_gallery": true,
      "edit_button": true
    },
    "media_encryption": {
      "algorithm": "AES-256-GCM",
      "supported_types": ["image", "video", "audio", "file"],
      "iv_length_bytes": 12,
      "tag_length_bits": 128,
      "key_derivation": "timestamp-based"
    },
    "media_limits": {
      "max_image_size_mb": 25,
      "max_video_size_mb": 1024,
      "max_audio_size_mb": 100,
      "max_file_size_mb": 250
    },
    "group_messaging": {
      "enabled": true,
      "admin_settings_persist": true,
      "fix_applied": true
    },
    "customization": {
      "enabled": true,
      "bubble_styles": 10,
      "bubble_style_names": ["Standard", "Comic", "Telegram", "Minimal", "Modern", "Retro", "Glass", "Neon", "Gradient", "Neumorphism"],
      "preset_backgrounds": 15,
      "one_click_packs": 10,
      "theme_variants": 10,
      "ui_styles": ["WorldMates", "Telegram"]
    },
    "auto_update": {
      "enabled": true,
      "silent_download": true,
      "wifi_only_default": true,
      "progress_tracking": true,
      "pending_install_detection": true,
      "check_interval_minutes": 30
    },
    "chat_organization": {
      "enabled": true,
      "universal_folders": true,
      "folders": {
        "default_folders": ["all", "personal", "channels", "groups", "unread"],
        "custom_folders": true,
        "archive_folder": true,
        "max_custom_free": 10,
        "max_custom_pro": 50,
        "content_types": ["chats", "channels", "groups"]
      },
      "tags": {
        "preset_count": 8,
        "custom_tags": true,
        "max_tags_per_chat": 5
      },
      "archive": {
        "local_only": true,
        "todo_backend_sync": "POST /api/v2/endpoints/chat_archive.php"
      }
    },
    "group_themes": {
      "enabled": true,
      "server_sync": true,
      "api_endpoint": "POST /api/v2/endpoints/group_customization.php",
      "preset_themes": 8,
      "customizable_properties": ["bubble_style", "preset_background", "accent_color"],
      "admin_only": true,
      "sql_columns": ["theme_bubble_style", "theme_preset_background", "theme_accent_color", "theme_enabled_by_admin", "theme_updated_at", "theme_updated_by"]
    },
    "bot_api": {
      "enabled": true,
      "version": "1.0.0",
      "api_endpoint": "POST /api/v2/endpoints/bot_api.php",
      "webhook_processor": "POST /api/v2/endpoints/bot_webhook_processor.php",
      "socket_namespace": "/bots",
      "features": {
        "bot_management": true,
        "slash_commands": true,
        "inline_keyboards": true,
        "reply_keyboards": true,
        "callback_queries": true,
        "webhooks": true,
        "long_polling": true,
        "file_upload": true,
        "polls": true,
        "message_editing": true,
        "user_state_fsm": true,
        "rate_limiting": true,
        "bot_store": true,
        "bot_categories": true,
        "media_messages": true
      },
      "authentication": {
        "user_auth": "access_token (query param)",
        "bot_auth": "bot_token (POST field)",
        "webhook_signature": "HMAC-SHA256 (X-WorldMates-Bot-Signature header)"
      },
      "rate_limits": {
        "default_per_second": 30,
        "default_per_minute": 1500,
        "max_bots_per_user": 20,
        "max_commands_per_bot": 100,
        "max_webhook_connections": 100
      },
      "bot_types": ["standard", "system", "verified"],
      "available_actions": [
        "create_bot", "get_my_bots", "update_bot", "delete_bot", "regenerate_token",
        "set_commands", "get_commands", "send_message", "edit_message", "delete_message",
        "get_updates", "answer_callback_query", "set_webhook", "delete_webhook",
        "get_webhook_info", "send_poll", "stop_poll", "get_bot_info", "search_bots",
        "get_chat_member", "set_user_state", "get_user_state"
      ],
      "example_bots": {
        "rss_news_bot": {
          "file": "bot-examples/RSSNewsBot.php",
          "description": "RSS feed aggregator with 10+ pre-configured sources",
          "commands": ["start", "help", "add", "remove", "list", "latest", "sources", "settings"]
        },
        "weather_bot": {
          "file": "bot-examples/WeatherBot.php",
          "description": "Weather forecasts with OpenWeatherMap integration",
          "commands": ["start", "help", "weather", "forecast", "setcity", "alerts"]
        },
        "support_bot": {
          "file": "bot-examples/SupportBot.php",
          "description": "Customer support with FAQ, tickets, and feedback",
          "commands": ["start", "help", "ticket", "status", "feedback", "contact"]
        },
        "task_tracker_bot": {
          "file": "bot-examples/TaskTrackerBot.php",
          "description": "Task management with priorities, due dates, and reminders",
          "commands": ["start", "help", "add", "list", "done", "edit", "delete", "priority", "due", "remind", "stats"]
        },
        "poll_bot": {
          "file": "bot-examples/PollBot.php",
          "description": "Polls and quizzes with anonymous/public voting",
          "commands": ["start", "help", "poll", "quiz", "results", "close", "mypolls"]
        }
      },
      "sdk": {
        "php": "bot-sdk/WorldMatesBotSDK.php",
        "features": ["long_polling", "webhook_handling", "inline_keyboards", "state_machine", "command_routing"]
      },
      "database_tables": [
        "Wo_Bots", "Wo_Bot_Commands", "Wo_Bot_Messages", "Wo_Bot_Webhook_Log",
        "Wo_Bot_Users", "Wo_Bot_Keyboards", "Wo_Bot_Callbacks", "Wo_Bot_Polls",
        "Wo_Bot_Poll_Options", "Wo_Bot_Poll_Votes", "Wo_Bot_Tasks",
        "Wo_Bot_RSS_Feeds", "Wo_Bot_RSS_Items", "Wo_Bot_Rate_Limits", "Wo_Bot_Api_Keys"
      ],
      "sql_migration": "sql-DB-newver/add_bot_api_tables.sql"
    }
  },
  "minimum_supported_version": "2.0.0",
  "force_update_below": "1.9.0",
  "new_files": [
    "ui/theme/ThemeOneClickPacks.kt",
    "ui/theme/ThemeBackgroundSection.kt",
    "ui/chats/ChatOrganizationManager.kt",
    "ui/chats/ChatOrganizationUI.kt",
    "ui/chats/ChatContactMenu.kt",
    "ui/chats/BottomNavBar.kt",
    "ui/groups/GroupThemeManager.kt",
    "ui/groups/GroupThemeEditor.kt",
    "ui/profile/MyProfileScreen.kt",
    "api-server-files/api/v2/endpoints/group_customization.php",
    "api-server-files/sql-DB-newver/add_group_customization_columns.sql",
    "data/model/Bot.kt",
    "network/BotApi.kt",
    "network/BotRepository.kt",
    "ui/bots/BotViewModel.kt",
    "ui/bots/BotCatalogScreen.kt",
    "ui/bots/BotManagementScreen.kt",
    "ui/bots/BotChatComponents.kt",
    "api-server-files/api/v2/endpoints/bot_api.php",
    "api-server-files/api/v2/endpoints/bot_webhook_processor.php",
    "api-server-files/api/v2/bot-sdk/WorldMatesBotSDK.php",
    "api-server-files/api/v2/bot-examples/RSSNewsBot.php",
    "api-server-files/api/v2/bot-examples/WeatherBot.php",
    "api-server-files/api/v2/bot-examples/SupportBot.php",
    "api-server-files/api/v2/bot-examples/TaskTrackerBot.php",
    "api-server-files/api/v2/bot-examples/PollBot.php",
    "api-server-files/sql-DB-newver/add_bot_api_tables.sql",
    "server/botSocketHandler.js"
  ],
  "modified_files": [
    "ui/theme/ThemeSettingsScreen.kt",
    "ui/theme/CustomizationManager.kt",
    "ui/preferences/BubbleStyle.kt",
    "ui/messages/BubbleStyles.kt",
    "update/AppUpdateManager.kt",
    "ui/chats/ChatsActivity.kt",
    "ui/chats/ChatsScreenModern.kt",
    "ui/settings/SettingsActivity.kt",
    "ui/groups/GroupDetailsActivity.kt",
    "ui/profile/UserProfileActivity.kt",
    "ui/profile/UserProfileViewModel.kt",
    "network/WorldMatesApi.kt",
    "network/RetrofitClient.kt",
    "server/server-example.js",
    "api-server-files/api/v2/endpoints/mobile_update_config.json"
  ],
  "dependencies": {
    "lottie": "6.4.0",
    "lottie-compose": "6.4.0",
    "coil-gif": "2.7.0",
    "media3-session": "1.2.0",
    "media3-exoplayer": "1.2.0"
  }
}
